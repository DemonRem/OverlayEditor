<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <meta content="DSF overlay editor">
  <meta content="X-Plane, simulator, scenery" name="keywords">
  <title>OverlayEditor</title>
  <meta content="Jonathan Harris" name="author">
  <style type="text/css">
.banner { font-family: Arial,Helvetica,sans-serif; background-color: lightskyblue; text-align: left; height: 32px; }
.dnl { font-family: Arial,Helvetica,sans-serif; font-size: small; background-color: lightskyblue; }
.tlbbutton { border: 0px solid; width: 32px; height: 32px; }
.inlbutton { border: 0px solid; width: 20px; height: 20px; vertical-align: text-bottom; }
.inlsymbol { border: 0px solid; width: 12px; height: 12px; vertical-align: baseline; }
.kbdtable { table-layout: fixed; width: 100%; border: 0px; }
.kbdtable td.button { width: 64px; vertical-align: top; }
.kbdtable td.keys { width: 33%; vertical-align: top; }
samp { font-family: Arial,Helvetica,sans-serif; }
h2 { font-family: Arial,Helvetica,sans-serif; }
h3 { font-family: Arial,Helvetica,sans-serif; }
h4 { font-family: Arial,Helvetica,sans-serif; }
h5 { font-family: Arial,Helvetica,sans-serif; }
kbd {font-family: sans-serif; color: black; background-color: white; border: 1px solid black; -webkit-border-radius:5px; -moz-border-radius:5px; border-radius: 5px; padding: 1px 1px 0px; }
  </style>
</head>
<body>
<table style="width: 100%;" border="0" cellpadding="2">
  <tbody>
    <tr>
      <td class="banner">Marginal &rarr; <a href="http://marginal.org.uk/x-planescenery/">X-Plane
Scenery</a> &rarr; <a href="http://marginal.org.uk/x-planescenery/tools.html">Tools</a>
&rarr; OverlayEditor</td>
    </tr>
  </tbody>
</table>
<hr>
<h2><img style="border: 0px solid; vertical-align: middle;" src="Resources/OverlayEditor.png"> DSF overlay scenery editor</h2>

<h3>Overview</h3>
<p>This application edits X-Plane<small><sup>&reg;</sup></small> DSF overlay scenery packages for X-Plane 8.30 or later. It runs on Windows 2000 or later, MacOS 10.5 or later and Linux.</p>
<p>This document is a reference - it is assumed that you're familiar with the basics of X-Plane's scenery system. Please read the section <a href="#other">below</a> if you intend to use OverlayEditor in conjunction with other scenery tools.<p>

<h3>Setting up</h3>
<p>The first time that you run the application you are asked to identify X-Plane's top-level folder (<i>i.e.</i> the folder which contains the X-Plane, Plane-Maker etc applications).<p>

<h3>The application window</h3>
<p>The application window consists of five parts. Click on this screenshot for a description:</p>
<img style="border: 0px solid; width: 1024px; height: 768px;" alt="application window" src="Resources/screenshot.jpg" usemap="#appwinmap">
<map name="appwinmap">
  <area shape="rect" coords="0,0,1023,63" href="#toolbar" title="Tool bar">
  <area shape="rect" coords="0,64,681,739" href="#mainwindow" title="Main window">
  <area shape="rect" coords="0,740,1023,767" href="#statusbar" title="Status bar">
  <area shape="rect" coords="682,64,1023,381" href="#objectlist" title="List of objects">
  <area shape="rect" coords="682,382,1023,767" href="#preview" title="Preview">
</map>

<h4><a name="toolbar">Tool bar</a></h4>
<table class="kbdtable">
  <tbody>
    <tr>
      <td class="button"><img class="tlbbutton" alt="New" src="Resources/new.png"></td>
      <td>Create a new scenery package.<br>
This creates a new folder in X-Plane's<code> Custom&nbsp;Scenery </code>folder.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Open" src="Resources/open.png"></td>
      <td>Open an existing scenery package.<br>
All the packages in X-Plane's<code> Custom&nbsp;Scenery </code>folder are listed, but you can only actually edit those that use DSF overlays
(rather than ENVs or &ldquo;full&rdquo; DSFs that contain a terrain mesh).</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Save" src="Resources/save.png"></td>
      <td>Save the scenery package.<br>
<small>Note: Any existing <code>.dsf</code> files are backed up with the extension <code>.dsf.bak</code></small></td>
    </tr>
    <tr>
      <td class="button"><a name="import"><img class="tlbbutton" alt="Go To" src="Resources/import.png"></td>
      <td>Import objects (and their textures) from another scenery package and add them to the <a href="#objectlist">list of objects</a>. Or import textures directly to generate draped polygons in the <a href="#objectlist">list of objects</a>.<br>
The imported objects are placed in<code> custom&nbsp;objects </code>or<code> objects </code>if either of these folders exist, otherwise in the package's top-level folder.
<small>(So this button is only available once you have saved the scenery package).</small><br>
Before you import objects from another scenery package you should first check
the license terms; these often prohibit re-distribution of individual
objects.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Add" src="Resources/add.png"></td>
      <td>Add the object that is highlighted in the <a href="#objectlist">list of objects</a> to the scenery.<br>
The object is added at the current cursor location and with the current heading.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Add" src="Resources/addnode.png"></td>
      <td>
If you have a forest or draped polygon selected - Add a hole in it.<br>
If you have a polygon/network <u>node</u> selected - Add new polygon/network node next to it.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Delete" src="Resources/delete.png"></td>
      <td>Delete the selected object(s) or selected node.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Undo" src="Resources/undo.png"></td>
      <td>Undo the last edit.</td>
    </tr>
    <tr>
      <td class="button"><a name="background"><img class="tlbbutton" alt="Background" src="Resources/background.png"></a></td>
      <td>Turn background imagery on or off.<br>
You can use a mapping service or a simple file to provide background imagery. <small>(Note that the background imagery is just for reference; it's not saved with the scenery package).</small></td>
    </tr>
    <tr>
      <td class="button"><a name="reload"><img class="tlbbutton" alt="Reload" src="Resources/reload.png"></a></td>
      <td>Reload the object, texture and apt.dat files in the scenery package.<br>
Use this if you have modified any of these files outside of this application.
Also use this if you have added new objects and you want these new objects
to appear in the <a href="#objectlist">list of objects</a>.
<small>(Note that the DSF files are not reloaded - just re-open the package if you want to revert to the last saved version)</small>.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Go To" src="Resources/goto.png"></td>
      <td>Go to an airport or lat/lon location.</td>
    </tr>
    <tr>
      <td class="button"><a name="lock"><img class="tlbbutton" alt="Lock" src="Resources/padlock.png"></a></td>
      <td>Lock object types. Locked objects can't be selected or modified.<br>
Use this to avoid accidentally selecting or editing certain kinds of objects.</td>
    </tr>
    <tr>
      <td class="button"><a name="preferences"><img class="tlbbutton" alt="Preferences" src="Resources/prefs.png"></a></td>
      <td>Change X-Plane's top-level folder and display options.<br>
Do not change the location of X-Plane's top-level folder while you are editing a scenery package, otherwise your unsaved changes will be lost.</td>
    </tr>
    <tr>
      <td class="button"><img class="tlbbutton" alt="Help" src="Resources/help.png"></a></td>
      <td>Show this help file.</td>
    </tr>
  </tbody>
</table>

<h4><a name="mainwindow">Main window</a></h4>
<p>This shows the objects that have been placed in a 1&deg;&times;1&deg; region of the loaded scenery package.</p>
<p>By default terrain is textured and displayed as flat - you can change this with <a href="#preferences"><img class="inlbutton" alt="Preferences" src="Resources/prefs.png"></a> and/or add mapping imagery with <a href="#background"><img class="inlbutton" alt="Background" src="Resources/background.png"></a>. Runways, taxiways and navaids are displayed in simplified form and cannot be edited. Scenery objects from other scenery packages and &ldquo;autogen&rdquo; scenery objects from the default scenery are not displayed at all.<p>
<p>Navigate with the cursor keys or mouse. Hold down <kbd>Shift</kbd> for bigger steps or <kbd>Ctrl</kbd> for tiny steps:</p>
<div style="margin-left: 40px;">
<table class="kbdtable">
  <tbody>
    <tr>
      <td class="keys"><kbd>Up</kbd>, <kbd>Down</kbd>, <kbd>Left</kbd>, <kbd>Right</kbd></td>
      <td>Pan</td>
    </tr>
    <tr>
      <td class="keys">Mouse click on window edge</td>
      <td>Pan</td>
    </tr>
    <tr>
      <td class="keys">Drag middle mouse button/wheel</td>
      <td>Pan</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Home</kbd>/<kbd>&#8598;</kbd>, <kbd>End</kbd>/<kbd>&#8600;</kbd></td>
      <td>Rotate</td>
    </tr>
    <tr>
      <td class="keys"><kbd>PageUp</kbd>/<kbd>&#8670;</kbd>, <kbd>PageDn</kbd>/<kbd>&#8671;</kbd></td>
      <td>Change elevation</td>
    </tr>
    <tr>
      <td class="keys"><kbd>&nbsp;&minus;&nbsp;</kbd>, <kbd>&nbsp;+&nbsp;</kbd></td>
      <td>Zoom</td>
    </tr>
    <tr>
      <td class="keys">Mouse wheel / Zoom gesture</td>
      <td>Zoom at mouse pointer</td>
    </tr>
  </tbody>
</table>
</div>
<p><small>Note: On a MacBook hold down <kbd>Fn</kbd> and use the cursor keys for the <kbd>Home</kbd>, <kbd>End</kbd>, <kbd>PageUp</kbd> and <kbd>PageDn</kbd> keys.</small></p>
<p>Selected objects are highlighted in pink in the main window.
To select objects:</p>
<div style="margin-left: 40px;">
<table class="kbdtable">
  <tbody>
    <tr>
      <td class="keys">Mouse click</td>
      <td>Select object</td>
    </tr>
    <tr>
      <td class="keys">Mouse drag</td>
      <td>Select objects</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> and click or drag</td>
      <td>Toggle selected objects</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Space</kbd></td>
      <td>Select all objects in the main window <small>(even if they're too small to see)</small>.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd> <kbd>Space</kbd></td>
      <td>Toggle selection of all objects in the main window</td>
    </tr>
  </tbody>
</table>
</div>
<p>You can't select or otherwise manipulate runways, taxiways or navaids
(ILS, VOR, DME etc).</p>
<p>If you select a single polygon <small>(facade, forest, draped or exclusion region)</small> or network segment <small>(road, railway or powerline)</small> you can click on an individual node (<i>i.e.</i> corner) to select it. The selected node is highlighted in white.</p>
<p>These keys affect the selected objects or the selected node. Hold down <kbd>Shift</kbd> for bigger steps or <kbd>Ctrl</kbd> for tiny steps:</p>
<div style="margin-left: 40px;">
<table class="kbdtable">
  <tbody>
    <tr>
      <td class="keys">Mouse click and drag</td>
      <td>Move selected object(s) or polygon/network node.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>W</kbd>, <kbd>S</kbd>, <kbd>A</kbd>, <kbd>D</kbd></td>
      <td>Move selected object(s) or polygon/network node.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Q</kbd>, <kbd>E</kbd></td>
      <td>Rotate selected object(s) about the cursor. To rotate a single object about its origin, select it and press <kbd>C</kbd> before rotating.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>R</kbd>, <kbd>F</kbd></td>
      <td>Increase/decrease selected facade's height, facade node's wall type, or forest's density, or rotate a draped polygon's texture.<br>
The currently selected facade height, wall type, forest density, or texture heading is shown next to a &#x2195; symbol in the status bar.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>C</kbd></td>
      <td>Centre the cursor on the selected object(s) or polygon/network node.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Shift</kbd> <kbd>C</kbd></td>
      <td>Centre the cursor on the selected object and rotate the view to match its heading.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>N</kbd></td>
      <td>Select the next use in this 1&deg;&times;1&deg; region of the object
that is highlighted in the <a href="#objectlist">list of objects</a>.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd> <kbd>N</kbd></td>
      <td>Add the next use of the highlighted object to the selection.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd> <kbd>Shift</kbd> <kbd>N</kbd></td>
      <td>Select all uses in this 1&deg;&times;1&deg; region of the highlighted object.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Enter</kbd> or <img class="inlbutton" alt="Add" src="Resources/add.png"></td>
      <td>Add new object.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> <kbd>Enter</kbd> or <img class="inlbutton" alt="Add" src="Resources/addnode.png"></td>
      <td>Add new polygon/network node next to the currently selected node, or add hole in the selected forest or draped polygon.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Delete</kbd> or <img class="inlbutton" alt="Delete" src="Resources/delete.png"></td>
      <td>Delete selected object(s) or polygon/network node.</td>
    </tr>
    <tr>
      <td class="keys"><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> <kbd>Z</kbd> or <img class="inlbutton" alt="Undo" src="Resources/undo.png"></td>
      <td>Undo the last edit.</td>
    </tr>
<!--
    <tr>
      <td class="keys"><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> <kbd>X</kbd> / <kbd>C</kbd> / <kbd>V</kbd></td>
      <td>Cut / Copy / Paste.</td>
    </tr>
-->
  </tbody>
</table>
</div>
<p><small>Note: You can also use the keys on the numeric keypad (if your keyboard has one) - ensure that <kbd>NumLock</kbd> is on.</small></p>

<h4><a name="statusbar">Status bar</a></h4>
<p>This area shows the cursor location, heading and elevation. If you have selected an object or polygon this area also shows details about it (or an average location if you have selected more than one object).</p>

<h4><a name="objectlist">List of objects</a></h4>
<p>All the objects, facades etc in the scenery package folder are listed under the heading &ldquo;<samp>Objects in this package</samp>&rdquo;, including those that are present in the scenery package folder but are not used in the scenery. The type of object is indicated by a symbol:</p>
<dl>
  <dd><img class="inlsymbol" alt="obj" src="Resources/obj.png"> - 3D object (<code>.obj</code>)</dd>
  <dd><img class="inlsymbol" alt="fac" src="Resources/fac.png"> - Facade polygon (<code>.fac</code>)</dd>
  <dd><img class="inlsymbol" alt="for" src="Resources/for.png"> - Forest polygon (<code>.for</code>)</dd>
  <dd><img class="inlsymbol" alt="pol" src="Resources/pol.png"> - Draped polygon (<code>.pol</code>) with a <a target="_blank" href="http://xplanescenery.blogspot.com/2007/02/polygons-part-3-airport-grass-terrain.html">repeating texture</a> (requires X-Plane 8.50 or later)</dd>
  <dd><img class="inlsymbol" alt="ortho" src="Resources/ortho.png"> - Draped polygon (<code>.pol</code>) for use as an <a target="_blank" href="http://xplanescenery.blogspot.com/2007/02/polygons-part-5-orthophotos.html">orthophoto</a> (requires X-Plane 8.60 or later)</dd>
  <dd><img class="inlsymbol" alt="unknown" src="Resources/unknown.png"> - Other polygon</dd>
  <dd><img class="inlsymbol" alt="net" src="Resources/net.png"> - Road, Railway or Powerline network (requires X-Plane 9.00 or later)</dd>
  <dd><img class="inlsymbol" alt="exc" src="Resources/exc.png"> - Exclusion region</dd>
  <dd><img class="inlsymbol" alt="bad" src="Resources/bad.png"> - Missing or unreadable object or polygon</dd>
</dl>
<p>Objects that have been made available by scenery libraries, including X-Plane's built-in libraries, are listed under further headings in the drop-down list. Or use the <samp>Search</samp> box to search through the available objects by name. Note that later versions of X-Plane come with more extensive libraries than earlier versions, so you you should always design using the earliest version of X-Plane that you want your scenery package to work with. (See <a target="_blank" href="http://marginal.org.uk/x-planescenery/library_tutorial/index.html">this tutorial</a> if you're interested in making your own scenery libraries).</p>
<p>Some library objects are shown in these lists with a symbol <img class="inlsymbol" alt="objs" src="Resources/objs.png"> or <img class="inlsymbol" alt="facs" src="Resources/facs.png"> instead of the normal symbol <img class="inlsymbol" alt="obj" src="Resources/obj.png"> or <img class="inlsymbol" alt="fac" src="Resources/fac.png">.
This means that the library object exists in multiple versions; X-Plane will
choose which version of the object to display at random, but this application
always displays the same version.</p>
<p>You can only add objects to your scenery that appear in these lists -
think of these lists as an artist's
<a href="http://en.wikipedia.org/wiki/Palette">palette</a>.</p>
<ul>
  <li>Use <a href="#import"><img class="inlbutton" alt="Import" src="Resources/import.png"></a> to copy objects from another scenery <u>package</u>. (Don't use this to copy objects from a scenery
<u>library</u>; just select the object from the appropriate list).</li>
  <li>Use <a href="#reload"><img class="inlbutton" alt="Reload" src="Resources/reload.png"></a> if you have otherwise added or modified objects in the scenery package folder, or if you have installed a new scenery library.</li>
</ul>

<h4><a name="preview">Preview picture</a></h4>
<p>A preview of the currently selected object is shown (when available) underneath the list of objects.</p>
<p>You can drag the separators between the preview window and the other windows to make the preview picture larger or smaller.</p>

<!--
<h3>Road, Railway &amp; Powerline Networks</h3>
<p>X-Plane handles roads, railways and powerlines (collectively "networks")
a little differently from other objects;
all of the types of network are defined in a single <code>.net</code> file.
By default, OverlayEditor reads the network types from the X-Plane library file <code>lib/g8/roads.net</code>.
You can create your own network types by creating a
<a target="_blank" href="http://scenery.x-plane.com/library.php?doc=netspec.php"><code>.net</code></a>
file inside of your scenery package
<small>(it doesn't matter what you name it, but you can have only one <code>.net</code> file)</small>.</p>
<ul>
  <li>You can only edit network segments if you are developing against X-Plane
v9 <small>(DSF overlay files that contain network segments can cause X-Plane v8 to crash)</small>,
and if the OverlayEditor preferences are set to display terrain and elevation.</li>
  <li>When you create a new network segment in OverlayEditor it has two nodes.
You can extend the segment by selecting an end node and pressing <kbd>Enter</kbd> or <img class="inlbutton" alt="Add" src="Resources/add.png"></td>.</li>
  <li>You can add additional intermediate nodes by selecting a node and pressing <kbd>Ctrl</kbd>/<kbd>Cmd</kbd> <kbd>Enter</kbd>.</li>
  <li>You can join the node at each end of a segment to another segment of the
same or of a different type -
drag the node so that it snaps to the end of the other segment.
X-Plane will try to draw a reasonable junction between the two segments.</li>
  <li>X-Plane will not join network segments in your scenery package to
segments in the default scenery.
You can use an Exclusion region to remove network segments in the default scenery.</li>
</ul>	
<dl>
  <dt>Ground-level network types - <i>eg</i> Roads & Railways</dt>
  <dd>OverlayEditor always places road and railway segments at ground level - they follow the terrain mesh.<br>
You can add additional nodes to a road or railway segment to change the direction.</dd>
  <dt>Bridge network types - <i>eg</i> Road & Railway bridges</dd>
  <dd>Bridge nodes can be placed at varying heights -
from ground-level up to the maximum height of their supporting columns.
OverlayEditor does not make bridge segments automatically follow the terrain mesh.<br>
You can use the <kbd>R</kbd> and <kbd>F</kbd> keys to adjust the height
of a bridge node - the height is shown in the status bar.<br>
You can add additional nodes to a bridge segment to change the direction and
to have more control over the height of the bridge.<br>
Depending on how the bridge is defined, X-Plane may draw the supporting columns at a repeating interval, or just once at each node
<small>(the suspension bridges defined in <code>lib/g8/roads.net</code>
are of this latter type)</small>.
  </dd>
</dl>
-->

<h3>Differences between this application and X-Plane</h3>
<p>This application displays terrain and objects in orthogonal projection (no perspective) and in a simplified form. <i>i.e.</i>:</p>
<ul>
  <li>No lights, lines, materials, shading or animation. 3D objects that only contain lights or lines are displayed as small &ldquo;placeholders&rdquo; so that they can be edited.</li>
  <li>This application can only display 3D objects, facades and draped
polygons.
Other types of polygon (beaches, forests, lines, strings <i>etc</i>) are
displayed as an outline. Beach polygons cannot be edited.</li>
  <li>When you add a new draped polygon this application behaves differently
depending on the contents of the <code>.pol</code> file:
    <ul>
      <li>A draped polygon (<code>.pol</code>) file that contains a
<code>TEXTURE</code> statement is assumed to be intended for use as a
<a href="http://xplanescenery.blogspot.com/2007/02/polygons-part-3-airport-grass-terrain.html">repeating texture</a> (requires X-Plane 8.50 or later).</li>
      <li>A draped polygon (<code>.pol</code>) file that contains a
<code>TEXTURE_NOWRAP</code> statement is assumed to be intended for use as a quadrilateral <a href="http://xplanescenery.blogspot.com/2007/02/polygons-part-5-orthophotos.html">orthophoto</a> (requires X-Plane 8.60 or later).
OverlayEditor does not allow you to add nodes or holes to orthophotos.</li>
    </ul>
X-Plane lets you use the same draped polygon (<code>.pol</code>) file
for either purpose but you will see visual artefacts if you use a
<code>TEXTURE</code> statement in an orthophoto or use a
<code>TEXTURE_NOWRAP</code> statement in a repeating texture.</li>
  <li>X-Plane allows some types of polygons to use bezier curves,
however this application does not understand or display bezier polygon curves.
Any bezier control points will be deleted if you edit the polygon.</li>
  <li>Terrain textures are simplified - no beaches or overlay textures.</li>
  <li>No flattening of terrain around airports. Terrain is displayed as if the X-Plane &ldquo;allow sloped runways&rdquo; rendering setting is turned on.</li>
</ul>
<a name="priority">
<p>X-Plane prioritises scenery packages. Prior to X-Plane 10.10 a package's priority is determined by its <a href="http://en.wikipedia.org/wiki/ASCIIbetical">ASCIIbetical</a> order in the <code>Custom&nbsp;Scenery</code> folder. Since X-Plane 10.10 a package's priority is determined by its order in the <a target="_blank" href="http://developer.x-plane.com/2012/09/scenery-packs-the-new-rules/"><code>Custom&nbsp;Scenery/scenery_packs.ini</code></a> file. You can see the order in which X-Plane prioritises your packages by looking at the file <code>Log.txt</code> in X-Plane's top-level folder.<br>
X-Plane will not load or display a scenery package if it has a lower priority than a &ldquo;full&rdquo; DSF scenery package (<i>i.e.</i> one containg a terrain mesh) for the same area, but this application will not warn you about this problem.</p>
<p>When you open or reload a scenery package this application warns about any
objects that are missing or that it can't read, but lets you edit and save
the scenery package anyway. X-Plane will display an error unless you
either provide implementations of missing and unreadable objects, or remove
all uses of these objects from the scenery.<p>
<p>X-Plane supports having multiple versions of a single library object,
and chooses which object to display at random.
However, this application always displays the first version of an object
that it comes across.
Many objects in the <code>global8</code> library exist in multiple versions
- <i>eg</i> the library object <code>/lib/global8/us/in_sq_90_30r.obj</code>
exists in eight different versions in X-Plane 8.40; if you use that object
in your scenery package then this application will always display the same
version, but X-Plane will display one of the eight versions chosen at random.<p>

<h3><a name="other">Using OverlayEditor in conjunction with other scenery tools</a></h3>
<p>There are a number of other applications that can create X-Plane scenery packages. Those applications that place scenery objects work by writing &ldquo;overlay&rdquo; <code>.dsf</code> files into a scenery package folder. OverlayEditor can read and edit &ldquo;overlay&rdquo; <code>.dsf</code> files produced by other applications; but of course if you re-run the other application you may overwrite any edits that you have made using OverlayEditor.</p>
<p>In particular, the WED application can be used to both to create X-Plane airport layouts and to place scenery objects. You can safely use WED to create and edit airport layout(s) and OverlayEditor to place scenery objects within the same scenery package <b>as long as you only use the <samp>File &rarr; Export&nbsp;apt.dat</samp> menu option in WED</b> and avoid the <samp>File &rarr; Export&nbsp;Scenery&nbsp;Pack</samp> menu option.</p>

<h3>Troubleshooting</h3>

<h4>OverlayEditor is too slow</h4>
<p>OverlayEditor needs to load lots of textures and uses much more memory
if the preferences are set to display terrain. Closing other applications,
particularly applications like X-Plane that also make heavy use of textures,
will make OverlayEditor load faster. Or you can tell OverlayEditor not to
display terrain; press
<a href="#preferences"><img class="inlbutton" alt="Prefs" src="Resources/prefs.png"></a> and select &ldquo;No terrain&rdquo;.</p>
<p>Editing is slower when the preferences are set to display terrain elevation.
This is particularly noticable when editing polygons because OverlayEditor
has to fit the polygons to the terrain mesh. OverlayEditor runs much
faster if you tell it not to display elevation; press
<a href="#preferences"><img class="inlbutton" alt="Prefs" src="Resources/prefs.png"></a> and select &ldquo;No terrain&rdquo; or &ldquo;Show terrain&rdquo;.
<!-- But note that you need to display elevation in order to edit network segments. --></p>

<h4>OverlayEditor complains that it &ldquo;Can't read one or more objects&rdquo;</h4>
<p>Your scenery package uses objects that are either missing or unreadable. Missing or unreadable 3D objects are displayed as small &ldquo;placeholders&rdquo;. Missing or unreadable polygons are displayed as &ldquo;placeholder&rdquo; shapes.</p>
<dl>
  <dt>To delete all uses of the missing or unreadable 3D object or polygon in the current 1&deg;&times;1&deg; region:</dt>
  <dd>Select the 3D object or polygon in the <a href="#objectlist">list of objects</a><br>
    Press <kbd>Ctrl</kbd> <kbd>Shift</kbd> <kbd>N</kbd><br>
    Press <kbd>Delete</kbd> or <img class="inlbutton" alt="Delete" src="Resources/delete.png"></dd>
</dl>
<p>Note that neither X-Plane nor OverlayEditor can read objects designed for
X-Plane v5. You can identify objects by looking at them in a text editor;
the second line should start with <code>2</code>, <code>700</code> or a larger
number and the third line should start with <code>OBJ</code>.
Otherwise this is either an X-Plane v5 object or it is not an X-Plane
object at all. If the object looks OK then please report the problem to the
<a href="mailto:x-plane@marginal.org.uk">author</a>.</p>

<h4>OverlayEditor complains that it &ldquo;Can't read one or more textures&rdquo;</h4>
<p>This happens when OverlayEditor fails to find or read the texture file
listed in your object(s).<br>
OverlayEditor expects the texture filename to have the correct case -
edit your object to correct the texture filename.<br>
OverlayEditor cannot read interlaced PNG files - save your
PNG file in 24bit or 32bit non-interlaced format.<br>
Then press <a href="#reload"><img class="inlbutton" alt="Reload" src="Resources/reload.png"></a> to tell OverlayEditor to re-read your objects and textures.<br>
Note that OverlayEditor only reports problems with textures when you load or
reload a scenery package, and when you first add an object to the scenery.</p>

<h4>My 3D object just appears as a small grey blob in OverlayEditor</h4>
<p>OverlayEditor doesn't draw lights or lines - 3D objects that only contain lights or lines are displayed as small &ldquo;placeholders&rdquo;. This is a limitation of the application.</p>
    
<h4>My forest/draped polygon just appears as a red outline in OverlayEditor</h4>
<p>In X-Plane polygons must be &ldquo;<a href="http://en.wikipedia.org/wiki/Simple_polygon">simple</a>&rdquo;, <i>i.e.</i> a polygon's sides must not intersect each other. X-Plane won't display non-simple polygons. OverlayEditor displays non-simple polygons as a bright red outline.</p>

<h4>OverlayEditor won't let me place my object/node exactly where I want it</h4>
<p>This is a limitation of the DSF file format as currently used by X-Plane.<br>
Laminar's scenery tools encode DSF files with a precision of approximately 0.0000005&deg;, which at the equator is about 5 cm or 2 inches. To avoid objects and nodes shifting when you save and re-open your scenery package, or when you view your scenery package in X-Plane, OverlayEditor doesn't let you place objects or polygon nodes with finer precision than that supported by the DSF files.</p>
    
<h4>I want to remove some scenery objects from the default scenery</h4>
<dl>
  <dt>You can use an exclusion region:</dt>
  <dd>Navigate to the area from which you want to remove the scenery objects.</dd>
  <dd>Select &ldquo;Exclusions&rdquo; from the drop-down <a href="#objectlist">Objects</a> menu.</dd>
  <dd>Choose the type of object that you want to exclude.</dd>
  <dd>Press <kbd>Enter</kbd> or <img class="inlbutton" alt="Add" src="Resources/add.png">.</dd>
  <dd>Drag the corners of the new region as desired.</dd>
</dl>
<p>OverlayEditor doesn't display the &ldquo;autogen&rdquo; scenery objects, so you may have to experiment a bit.</p>
<p>Exclusion regions are always rectangular (you can't add or delete nodes) and can't be rotated. You can make up more complex shapes by adding multiple exclusion regions.</p>

<h4>I want to remove some scenery objects from another scenery package</h4>
<p>Follow the above procedure. In addition, your scenery package must have a
<a href="#priority">higher priority</a> than the other package.
So you may need to rename one of the two packages to change their relative
priority.</p>
<p>Exclusion regions exclude objects from <u>other</u>, lower priority,
scenery packages, not from the scenery package that contains them.</p>

<h4>I want to change the elevation of a scenery object</h4>
<p>OverlayEditor just places scenery objects (other than network segments)
directly on top of the terrain mesh.
To change the apparent elevation of a 3D object you need to edit the object
using a 3D modelling application.</p>

<h4>X-Plane does not display any of my scenery objects</h4>
<dl>
  <dt>Check that OverlayEditor saved your package correctly:</dt>
  <dd>Run OverlayEditor again, open your scenery package and check that
it looks OK.</dd>
  <dt>&nbsp;</dt>
  <dt>Check that OverlayEditor saved your package in the correct copy of X-Plane:</dt>
  <dd>Press <a href="#preferences"><img class="inlbutton" alt="Prefs" src="Resources/prefs.png"></a> and check that the &ldquo;X-Plane location&rdquo; points to the copy of X-Plane that you're running.<br>
If it doesn't, change the &ldquo;X-Plane location&rdquo; setting. Then, in Explorer or the Finder, move your scenery package folder to the copy of X-Plane that you're running.</dd>
  <dt>&nbsp;</dt>
  <dt>Check your X-Plane settings:</dt>
  <dd>Run X-Plane and choose <samp>Settings &rarr; Rendering&nbsp;Options</samp>.<br>
Check that &ldquo;number of objects&rdquo; is not set to &ldquo;None&rdquo;.</dd>
  <dt>&nbsp;</dt>
  <dt>Check that X-Plane found your scenery package:</dt>
  <dd>Quit X-Plane. Open the file <code>Log.txt</code> in the top-level
X-Plane folder.
Your scenery package should be listed at least twice in this file;
firstly in the list of scenery packages, eg:
<div style="margin-left: 40px;"><code><i>n</i> Custom Scenery\<i>My package</i>\</code></div>
and secondly when X-Plane loads the DSF(s) from your scenery package, eg:
<div style="margin-left: 40px;"><code>DSF load time: <i>nnn</i> for file Custom Scenery\<i>My package</i>\Earth nav data:+50-010\+51-001.dsf</code></div>
If X-Plane is not loading DSFs from your package then this is probably
because another package has a <a href="#priority">higher priority</a>
than your package.
Look in <code>Log.txt</code> to see which DSF files X-Plane is loading from
the<code> Custom&nbsp;Scenery </code>folder - this will tell you the name
of the package that is hiding your package.<br>
Rename one or both of the packages to change their relative priority.</dd>
</dl>

<h3>Limitations</h3>
<ul>
  <li>Does not display roads, railway or powerline networks.</li>
  <li>Does not display &ldquo;autogen&rdquo; scenery.</li>
  <li>Does not display lights or lines in 3D objects.</li>
  <li>Does not convert or edit X-Plane 7 and earlier <code>.env</code> files.</li>
  <li>Displays but does not edit runways, taxiways, navaids etc.</li>
  <li>In some cases facades may be displayed slightly differently to X-Plane - <i>e.g.</i> extra windows in a wall <i>etc</i>.</li>
  <li>Interlaced PNG files appear untextured.</li>
</ul>

<h3>License</h3>
<p>These tools are licensed under the Creative Commons <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Attribution-Noncommercial-ShareAlike</a> license.</p>
<p>Use of these tools does not impose any requirement on you to license
your work under a Creative Commons license. For the avoidance of doubt,
this means that you can license any scenery that you make using these
tools under commercial terms (subject to any licensing restrictions on
any imported or library objects that you use).</p>
<p>The author would appreciate a courtesy copy of any commercial scenery
that you make using these tools, but you are under no obligation.</p>

<hr>
<table style="width: 100%;" border="0" cellpadding="2">
  <tbody>
    <tr>
      <td class="banner">Version 2.28 &copy; 2007-2013 <a href="mailto:x-plane@marginal.org.uk">Jonathan Harris</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
<img alt="Creative Commons License" style="border: none ; width: 88px; height: 31px; vertical-align: text-bottom;" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png"></a>
    </tr>
  </tbody>
</table>

</body>
</html>
